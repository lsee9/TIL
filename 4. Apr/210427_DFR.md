###### 210427_wed

##### Django REST Framework

<hr>

###### 오늘의 목차 :sunflower:

### DFR

- **CURD**
- **1:N Model Relationship**

##### :woman_cartwheeling: DFR 뿌셔뿌셔 :man_cartwheeling:

<hr>
<br>

## 기본 설정

- 가상환경 설정

```shell
$ python -m venv venv
$ source venv/Scripts/activate
```

- 장고 설치

```shell
$ pip install django
```

- 프로젝트 생성
  - (.)현재 위치에 프로젝트 생성

```shell
$ django-admin startproject myapi .
```

- 추가 프로그램 설치
  - django-seed : db에 랜덤으로 임의의 값을 넣음
  - djangorestframework : 이제 배울 것!!
  - django-extensions, ipython : shell plus이용 (라인 할줄 입력하면서 어떤 값 있는지 뽑아내기 편리한 인터페이스 사용 위한 것)

```shell
$ pip install django-seed djangorestframework django-extensions ipython
```
- 설치한 프로그램 저장
```shell
$ pip freeze > requirements.txt
```

- settings.py

```python
INSTALLED_APPS = [
    'dajngo_seed',
    'django_extensions',
    'rest_framework',
    ...
]
```

- app 생성

```shell
$ python manage.py startapp articles
```

```python
INSTALLED_APPS = [
    'articles',
    ...
]
```

<br>

<br>

#### 오늘 할 것!

> 게시글 CRUD를 작성하자!
>
> :thinking: 이전과 뭐가 다를까??
>
> - django만 사용할 때는 HTML문서를 응답으로 보내줬다면!!
> - 이번엔 `Json형식으로 응답`을 보내주자!!!
> - 이때 **REST에 맞게 작성**하자

<br>

#### :cherries: API가 RESTful 하다?!!?! :cherries:

- 실제로 url 구성, 사용하는 method는 개발자 마음대로!!!
- 그치만 너무 다양하면 서버 하나하나 보기가 너무 힘들다
- 보기 편하도록 만들어진 **하나의 표준**이 **REST**
- `사용할 규칙` 
  - url : 자원만 나타내고, 동작은 포함하지 않는다
  - CRUD동작 => GET, POST, PUT, DELETE Method를 사용해서 구현한다
- REST는 가이드일 뿐 필수는 아니라는 사실
- 적당히 알아보기 좋게끔 디자인 하도록 하자

<br>

<br>

# 1. CRUD

#### api/urls.py

- url의 버전을 나누는 이유??
  - 보통 버전이 달라지면 전체적으로 달라짐(프레임워크? 그런 구성하는게 달라짐)
  - url마다 버전을 구분해서 쓰고싶은 것을 쓰도록 함

```python
from django.contrib import admin
from django.urls import path, include

urlpatterns = [
    path('admin/', admin.site.urls),
    path('api/v1/', include('articles.urls')),
]
```

<br>

#### articles/models.py

- 게시글에 해당하는 Article 모델 작성

```python
from django.db import models

class Article(models.Model):
    title = models.CharField(max_length=100)
    content = models.TextField()
    created_at = models.DateTimeField(auto_now_add=True)
    updated_at = models.DateTimeField(auto_now=True)
```

<br>

#### articles/serializers.py

```python
```



